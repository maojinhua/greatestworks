app:
  name: "GreatestWorks Auth"
  version: "1.0.0"
  environment: "development"
  debug: false

service:
  name: "auth-service"
  version: "1.0.0"
  environment: "development"
  node_id: "auth-node-1"

server:
  http:
    host: "0.0.0.0"
    port: 8080
    read_timeout: "30s"
    write_timeout: "30s"
    idle_timeout: "60s"
    max_header_bytes: 1048576
    enable_cors: true
    enable_metrics: true
    enable_swagger: true
    rate_limit_enabled: true
    rate_limit_requests: 100
    rate_limit_window: "1s"

database:
  mongodb:
    uri: "mongodb://localhost:27017"
    database: "auth_service"
    username: "admin"
    password: "admin123"
    auth_source: "admin"
    max_pool_size: 50
    min_pool_size: 5
    max_idle_time: "10m"
    connect_timeout: "10s"
    socket_timeout: "30s"
  redis:
    addr: "localhost:6379"
    password: "redis123"
    db: 0
    pool_size: 50
    min_idle_conns: 5
    max_retries: 3
    dial_timeout: "5s"
    read_timeout: "3s"
    write_timeout: "3s"
    pool_timeout: "4s"
    idle_timeout: "5m"

security:
  jwt:
    secret: "your-super-secret-jwt-key-change-in-production"
    issuer: "greatestworks-auth"
    audience: "mmo-players"
    access_token_ttl: "1h"
    refresh_token_ttl: "24h"
  encryption:
    enabled: true
    key: "32-character-encryption-key-here"
    algorithm: "AES-256-GCM"
  password_policy:
    min_length: 8
    require_uppercase: true
    require_lowercase: true
    require_numbers: true
    require_symbols: false
    max_attempts: 5
    lockout_duration: "15m"
  rate_limit:
    enabled: true
    requests_per_minute: 1000
    burst: 200
    interval: "1m"
    global_limit: 1000
    per_ip_limit: 100
  ddos_protection:
    enabled: true
    threshold: 1000
    ban_duration: "1h"
  cors:
    allowed_origins:
      - "http://localhost:3000"
      - "https://greatestworks.com"
    allowed_methods:
      - "GET"
      - "POST"
      - "PUT"
      - "DELETE"
      - "OPTIONS"
    allowed_headers:
      - "Content-Type"
      - "Authorization"
      - "X-Requested-With"
    allow_credentials: true

session:
  max_sessions_per_user: 3
  session_timeout: "24h"
  cleanup_interval: "1h"
  store_type: "redis"

logging:
  level: "info"
  format: "json"
  output: "stdout"
  fields:
    service: "auth-service"
    version: "1.0.0"

monitoring:
  health:
    enabled: true
    path: "/health"
  metrics: # deprecated legacy settings
    enabled: false
    namespace: "auth_service"
  profiling:
    enabled: true
    host: "0.0.0.0"
    port: 6061 # 访问 http://<host>:6061/debug/pprof/{profile,heap,goroutine,block,trace,...}

third_party:
  email:
    smtp:
      host: "smtp.gmail.com"
      port: 587
      username: "your-email@gmail.com"
      password: "your-app-password"
  oauth:
    providers:
      google:
        client_id: ""
        client_secret: ""
      github:
        client_id: ""
        client_secret: ""

environment:
  hot_reload: false
  mock_data: false
  test_mode: false
